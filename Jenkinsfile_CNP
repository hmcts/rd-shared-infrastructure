#!groovy
//noinspection GroovyUnusedAssignment
@Library("Infrastructure") _

import uk.gov.hmcts.contino.Environment
import uk.gov.hmcts.contino.Subscription

Environment environment = new Environment(env)
Subscription subscription = new Subscription(env)

withInfraPipeline('rd') {

    before('Plan rd in aat') {
        sh 'ls -al'
        echo '===== app-service-plan.tf ====='
        sh 'cat app-service-plan.tf'

        echo '===== application-insights.tf ====='
        sh 'cat application-insights.tf'

        echo '===== key-vault.tf ====='
        sh 'cat key-vault.tf'

        echo '===== main.tf ====='
        sh 'cat main.tf'

        echo '===== resource-group.tf ====='
        sh 'cat resource-group.tf'

        echo '===== app-service-plan.tf ====='
        sh 'cat app-service-plan.tf'
    }
}